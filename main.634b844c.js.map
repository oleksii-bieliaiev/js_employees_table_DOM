{"version":3,"sources":["scripts/main.js"],"names":["sorted","tbody","document","querySelector","normalize","salary","replace","sortTable","e","rows","children","index","target","closest","cellIndex","textContent","reverse","sort","a","b","cells","localeCompare","append","addEventListener","body","showNotification","title","description","type","div","createElement","h2","p","classList","setAttribute","className","setTimeout","remove","insertAdjacentHTML","form","inputs","querySelectorAll","preventDefault","data","FormData","tr","dataArr","get","length","i","td","parseInt","toLocaleString","value","active","row","add","change","targetText","newInput","name","focus","cellInput","namePositionOffice","age","money","changeContent","content","checkNewInput","eventPush","code"],"mappings":"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","file":"main.634b844c.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nlet sorted;\n\nfunction normalize(salary) {\n  return +salary.replace(/[^0-9.-]+/g, '');\n}\n\nfunction sortTable(e) {\n  const rows = [...tbody.children];\n  const item = e.target.closest('th');\n  const index = item.cellIndex;\n\n  if (e.target.textContent === sorted) {\n    rows.reverse();\n  } else {\n    sorted = e.target.textContent;\n\n    rows.sort((a, b) => {\n      if (!normalize(a.cells[index].textContent)) {\n        return a.cells[index].textContent\n          .localeCompare(b.cells[index].textContent);\n      }\n\n      return normalize(a.cells[index].textContent)\n      - normalize(b.cells[index].textContent);\n    });\n  }\n  tbody.append(...rows);\n}\n\ndocument.querySelector('table').addEventListener('click', sortTable);\n\nconst body = document.querySelector('body');\n\nfunction showNotification(title, description, type) {\n  const div = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  div.classList = 'notification';\n  div.setAttribute('data-qa', 'notification');\n  h2.classList = 'title';\n  h2.textContent = title;\n  div.className = `notification ${type}`;\n  p.textContent = description;\n  div.append(h2);\n  div.append(p);\n  body.append(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 2000);\n};\n\nbody.insertAdjacentHTML('beforeend',\n  `<form class=\"new-employee-form\">\n      <label>Name:\n        <input\n          name=\"name\"\n          type=\"text\"\n          data-qa=\"name\"\n        >\n      </label>\n      <label>Position:\n        <input name=\"position\"\n          type=\"text\"\n          data-qa=\"position\"\n      >\n      </label>\n      <label> Office:\n        <select name=\"office\" data-qa=\"office\" >\n         <option value=\"Tokyo\">Tokyo</option>\n         <option value=\"Singapore\">Singapore</option>\n         <option value=\"London\">London</option>\n         <option value=\"New York\">New York</option>\n         <option value=\"Edinburgh\">Edinburgh</option>\n         <option value=\"San Francisco\">San Francisco</option>\n        </select>\n      </label>\n      <label>Age:\n        <input name=\"age\"\n          type=\"number\"\n          data-qa=\"age\"\n        >\n      </label>\n      <label>Salary:\n        <input\n          name=\"salary\"\n          type=\"number\"\n          data-qa=\"salary\"\n        >\n      </label>\n      <button>Save to table</button>\n     </form>`\n);\n\nconst form = document.querySelector('form');\nconst inputs = document.querySelectorAll('input');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const tr = document.createElement('tr');\n  const dataArr = [data.get('name'), data.get('position'), data.get('office'),\n    data.get('age'), data.get('salary')];\n\n  if (data.get('name').length < 4) {\n    showNotification('Short name',\n      'Name must have more than 4 letters', 'error');\n\n    return;\n  }\n\n  if (!data.get('name') || !data.get('position')\n    || !data.get('age') || !data.get('salary')) {\n    showNotification('Fields are not filled',\n      'You must fill all fields', 'error');\n\n    return;\n  }\n\n  if (data.get('age') < 18 || data.get('age') > 90) {\n    showNotification('Wrong age',\n      'Write an age between 18 and 90', 'error');\n\n    return;\n  }\n\n  for (let i = 0; i < dataArr.length; i++) {\n    const td = document.createElement('td');\n\n    if (i === dataArr.length - 1) {\n      td.textContent = `$${parseInt(dataArr[i]).toLocaleString('en-US')}`;\n    } else {\n      td.textContent = dataArr[i];\n    }\n    tr.append(td);\n  }\n\n  tbody.append(tr);\n\n  showNotification('Employee added',\n    'New data in the table', 'success');\n\n  for (const input of inputs) {\n    input.value = null;\n  }\n});\n\ntbody.addEventListener('click', e => {\n  const active = document.querySelector('.active');\n  const row = e.target.closest('tr');\n\n  if (!active) {\n    row.classList.add('active');\n  } else {\n    active.classList.remove('active');\n    row.classList.add('active');\n  }\n});\n\ntbody.addEventListener('dblclick', change => {\n  const target = change.target;\n  const targetText = target.textContent;\n\n  const newInput = document.createElement('input');\n\n  newInput.classList = 'cell-input';\n  newInput.name = 'text';\n  newInput.type = 'text';\n  target.textContent = null;\n\n  target.append(newInput);\n  newInput.focus();\n\n  const cellInput = document.querySelector('.cell-input');\n\n  const namePositionOffice = target.cellIndex === 0\n    || target.cellIndex === 1 || target.cellIndex === 2;\n  const age = target.cellIndex === 3;\n  const money = target.cellIndex === 4;\n\n  function changeContent(content = targetText) {\n    target.textContent = content;\n    newInput.remove();\n  }\n\n  function checkNewInput() {\n    if (cellInput.value.length === 0) {\n      changeContent();\n    }\n\n    if (namePositionOffice) {\n      target.textContent = cellInput.value;\n\n      if (cellInput.value.length < 4) {\n        showNotification('Short name',\n          'Name must have more than 4 letters', 'error');\n        changeContent();\n      }\n    }\n\n    if (age) {\n      if (+cellInput.value) {\n        target.textContent = cellInput.value;\n\n        if (+cellInput.value < 18\n          || +cellInput.value > 90) {\n          showNotification('Wrong age',\n            'Write an age between 18 and 90', 'error');\n          changeContent();\n        }\n      }\n\n      if (!+cellInput.value) {\n        showNotification('Wrong age',\n          'Write an age between 18 and 90', 'error');\n        changeContent();\n      }\n    }\n\n    if (money) {\n      if (!+cellInput.value) {\n        changeContent();\n\n        showNotification('Wrong number',\n          'Еnter salary', 'error');\n      }\n\n      if (+cellInput.value) {\n        target.textContent = `\n          $${parseInt(cellInput.value).toLocaleString('en-US')}`;\n      }\n    }\n  }\n\n  newInput.addEventListener('keydown', eventPush => {\n    if (eventPush.code === 'Enter') {\n      checkNewInput();\n    }\n  });\n\n  newInput.addEventListener('blur', () => {\n    checkNewInput();\n  });\n});\n"]}